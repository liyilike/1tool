<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>php7,php5,php在线运行工具 - {$site.name}</title>
  <include="/Tpl/default/Include/app_header_code.html" />
  <meta name="keywords" content="php7在线运行,php5在线运行,php在线运行工具" />
  <meta name="description" content="1tool第一在线工具网提供php7,php5,php在线运行工具,更多实用工具尽在www.1tool.org" />
  <include="/Tpl/default/Include/app_code_bootstrap.html" />
  <link href="/Static/css/common.min.css" rel="stylesheet" />
  <include="/Tpl/default/Include/app_code_codemirror.html" />

  <style>
    .CodeMirror {
      border: 1px solid #eee;
      height: 500px;
    }

    .CodeMirror-scroll {
      height: 500px;
      overflow-y: hidden;
      overflow-x: auto;
    }
  </style>

  <style type="text/css"></style>
</head>

<body>
  <include="/Tpl/default/Include/app_header_full.html" />
  <main>
    <div class="container-fluid mt-3">
      <div class="col-12">
        <div class="row">
          <!-- 分开 -->
          <div class="col-6">
            <div class="card h-100">
              <div class="card-body d-flex flex-column justify-content-center">

                <div class="col-12 mb-2">
                  <div class="row">
                    <select id="select_id" class="form-control col" onchange="selectTheme()" >
                  <option selected>PHP 7.0</option>
                  <option >PHP 5.6</option>
                  <option >PHP 5.5</option>
                  <option>PHP 5.4</option>
                  </select>
                    <div class="ml-3 pull-right">
                      <button type="button" class="btn btn-success" id="run">开始运行</button>
                    </div>
                    <div class="ml-3 pull-right">
                      <button type="button" class="btn btn-secondary" id="clear">清空内容</button>
                    </div>
                  </div>
                </div>

                <textarea id="code" name="code">
                </textarea>

                <script>
                  var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
                    lineNumbers: true,
                    mode: "application/x-httpd-php",
                    theme: "eclipse",
                  });
                  editor.setValue("<?php\r\recho 'hello word';\r\r?>");
                </script>

              </div>
            </div>
          </div>
          <!-- 分开 -->
          <div class="col-6">
            <div class="card h-100">
              <div class="card-body d-flex flex-column justify-content-center">
                <div class="row col-12">
                  <input type="hidden" name="token" id="data_token" value="" />
                  <button type="button" class=" btn btn-warning" id="multiLine">运行结果</button>
                </div>

                <form id="myForm" method="post" target="myFrame">
                  <input type="hidden" name="tool" id="data_param" />
                  <input type="hidden" name="token" id="data_token" value="{$token}" />
                </form>

                <iframe frameborder="0" id="iframe" name="myFrame" src="" class="form-control mt-2" height="500"></iframe>

              </div>
            </div>
          </div>
          <!-- 结束-->
        </div>
      </div>
    </div>



  </main>
 <include="/Tpl/default/Include/app_footer_code.html" />
  <script>
    var mycars=new Array(
    "http://php-7.fast-page.org/index.php",
    "http://php-56.fast-page.org/index.php",
    "http://php-55.fast-page.org/index.php",
    "http://php-54.fast-page.org/index.php"
     );

    $("#clear").click(function() {
      editor.setValue("");
    });

    $("#run").click(function() {
      var strM = editor.getValue();
      strM = strM.replace("<?php", "");
      strM = strM.replace("?>", "");
      $("#data_param").val(strM);
      url =  mycars[$("#select_id ").get(0).selectedIndex];
      $("#myForm").attr("action", url);
      $("#myForm").submit();
    });
  </script>
  <include="/Tpl/default/Include/app_footer.html" />
</body>
</html>
